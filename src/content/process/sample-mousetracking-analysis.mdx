---
title: "Sample: Mousetracking Data Cleaning Pipeline"
description: "Building a robust preprocessing workflow for mousetracking data"
date: 2025-01-08
dimension: "implementation"
status: "in-progress"
tools: ["Python", "pandas", "mousetrap", "matplotlib"]
tags: ["sample", "data-processing", "mousetracking"]
---

# Mousetracking Data Cleaning Pipeline

This is a sample Process post in the **implementation** dimension.

## Problem

Raw mousetracking data is messy:
- Variable sampling rates
- Coordinate system inconsistencies
- Outlier trajectories
- Missing data points

## Current Approach

```python
import pandas as pd
import numpy as np
from mousetrap import preprocess

def clean_trajectory(df):
    # Normalize timestamps
    df['time_norm'] = df['time'] - df['time'].min()

    # Filter outliers (> 3 SD from mean curvature)
    curvature = calculate_curvature(df)
    df = df[np.abs(curvature - curvature.mean()) < 3 * curvature.std()]

    # Interpolate missing points
    df = df.interpolate(method='cubic')

    return df
```

## Issues Discovered

- Cubic interpolation sometimes creates unrealistic trajectories
- Need better outlier detection that accounts for individual differences
- Coordinate normalization affects curvature calculations

## Next Steps

1. Try spline interpolation instead
2. Implement hierarchical outlier detection
3. Add visualization for manual QC
4. Document edge cases

## Status: In Progress

Currently testing different interpolation methods on pilot data.

## Links

- Part of: trilingual-mousetracking project
- Related empirical entry: "Pilot data collection notes"
